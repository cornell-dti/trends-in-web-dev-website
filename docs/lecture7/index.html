<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<title data-react-helmet="true">Lecture 7 | Trends in Web Dev</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2020fa"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2020fa"><meta data-react-helmet="true" property="og:title" content="Lecture 7 | Trends in Web Dev"><meta data-react-helmet="true" name="description" content="Lecture Slides"><meta data-react-helmet="true" property="og:description" content="Lecture Slides"><meta data-react-helmet="true" property="og:url" content="https://webdev.cornelldti.org/docs/lecture7"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo.png"><link data-react-helmet="true" rel="canonical" href="https://webdev.cornelldti.org/docs/lecture7"><link rel="stylesheet" href="/styles.20b553a9.css">
<link rel="preload" href="/styles.b3ac23f8.js" as="script">
<link rel="preload" href="/runtime~main.51f706eb.js" as="script">
<link rel="preload" href="/main.06297e21.js" as="script">
<link rel="preload" href="/1.2cf48a0e.js" as="script">
<link rel="preload" href="/1be78505.224fd55d.js" as="script">
<link rel="preload" href="/1df93b7f.4d2ce04f.js" as="script">
<link rel="preload" href="/42.18598128.js" as="script">
<link rel="preload" href="/41.0c9eefb5.js" as="script">
<link rel="preload" href="/1dee71fb.0bffaa0f.js" as="script">
<link rel="preload" href="/40.f6ae906f.js" as="script">
<link rel="preload" href="/34340b99.28b765f4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_BIdV">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Cornell DTI Web Development Course Logo" class="themedImage_1cYf themedImage--light_1ouV navbar__logo"><img src="/img/logo.png" alt="Cornell DTI Web Development Course Logo" class="themedImage_1cYf themedImage--dark_2DVg navbar__logo"><strong class="navbar__title">Trends in Web Dev</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" dropdownitemsbefore="" dropdownitemsafter="" href="/docs/introduction">2020fa</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/lecture7">2020fa</a></li><li><a class="dropdown__link" href="/docs/2020sp/lecture7">2020sp</a></li></ul></div><a class="navbar__item navbar__link" href="/docs/introduction">Getting Started</a><a class="navbar__item navbar__link" href="/docs/lecture0">Lectures</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cornell-dti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_QhVZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3KXf">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3KXf">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="Cornell DTI Web Development Course Logo" class="themedImage_1cYf themedImage--light_1ouV navbar__logo"><img src="/img/logo.png" alt="Cornell DTI Web Development Course Logo" class="themedImage_1cYf themedImage--dark_2DVg navbar__logo"><strong class="navbar__title">Trends in Web Dev</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist" dropdownitemsbefore="" dropdownitemsafter="">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/lecture7">2020fa</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2020sp/lecture7">2020sp</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/lecture0">Lectures</a></li><li class="menu__list-item"><a href="https://github.com/cornell-dti" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_3xt2"><div class="docSidebarContainer_3L1z" role="complementary"><div class="sidebar_1ZEZ"><div class="menu menu--responsive thin-scrollbar menu_2ErF"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_3QEW" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/introduction">Syllabus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup-environment">Setup your development environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/setup-editor">Setup your editor</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Lectures</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture0">Lecture 0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture1">Lecture 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture2">Lecture 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture3">Lecture 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture4">Lecture 4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture5">Lecture 5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture6">Lecture 6</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/lecture7">Lecture 7</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture8">Lecture 8</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture9">Lecture 9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/lecture10">Lecture 10</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Assignments</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignments">Assignments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignment1">Assignment 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignment2">Assignment 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignment3">Assignment 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignment4">Assignment 4</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/assignment5">Assignment 5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/finalproject">Final Project</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">HackOurCampus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/HackOurCampus">Full Stack Integration Workshop</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2ycV"><div class="container padding-vert--lg docItemWrapper_2mey"><div class="row"><div class="col docItemCol_2VMS"><div class="docItemContainer_31tu"><article><div><span class="badge badge--secondary">Version: 2020fa</span></div><header><h1 class="docTitle_3IPJ">Lecture 7</h1></header><div class="markdown"><p><a href="https://docs.google.com/presentation/d/1KhWjXajJQJQygI7npPgk4x6I7N4jY__RBvlVDO2jFO4/edit?usp=sharing">Lecture Slides</a></p><p><a href="https://drive.google.com/file/d/1MeeIoZl0wN8RMCJkSC17vPyTwrg-2tn3/view?usp=sharing">Lecture Video</a></p><p><a href="/docs/finalproject">Final Project Instructions</a></p><p><a href="https://forms.gle/kzqW3r5fdP1u5Yix9">Final Project Team Matching Form</a> due <strong>Saturday, Nov. 7th</strong> (no slip days)</p><p><a href="/docs/finalproject#milestone-0">Milestone 0</a> due <strong>11/10 by 3:59pm</strong> (no slip days)</p><h2 id="hooks-and-more-on-functional-components-in-react">Hooks, and More on Functional Components in React</h2><p>React has changed a lot in the past few years since it was released in 2013,
in true JavaScript library fashion. A major new concept leading the way of much
innovation for React development is Hooks, released in <strong>2019(!)</strong>. While there
are several different Hooks in React (and you can even develop your own), we will be focusing on two main Hooks in this class: <code>useState</code> and <code>useEffect</code>. You may read more about these other (equally as important but more involved) Hooks <a href="https://reactjs.org/docs/hooks-reference.html">here</a>.</p><h2 id="hooks">Hooks</h2><p>To put it simply, Hooks are functions for use in functional components, making them much more powerful.</p><p>You can only call Hooks from the top-level of functional components or your own custom hooks.</p><p>Previously, class components were primarily used for complex components in React
which required their own states and needed to trigger their own side effects based
on updated values in the component, and more. These functionalities were implemented through splitting a component into different parts of its lifecycle, which could easily
become messy. The introduction of Hooks was a game changer, as it allowed developers
to do away with class-based components and their ugliness.</p><p>While Hooks are a relatively new addition to React, their usage along with functional
components have quickly become a dominant paradigm for React development, allowing
for developers to reduce boilerplate (code required every time you make a certain feature)
and make code much more understandable (we&#x27;ve seen how functional programming makes code
both more concise and less bug-prone), without getting bogged down by confusing
lifecycle methods.</p><h3 id="usestate"><code>useState</code></h3><p>We&#x27;ve shown the <code>useState</code> Hook in previous lectures and you&#x27;ve had to use it
to keep track of state in A4 and A5. However, let&#x27;s get deeper into understanding
it more generally and what you can do with it.</p><h4 id="simple-counter-example">Simple Counter Example</h4><p>Let&#x27;s consider a simple counter component requiring the use of states. We will
outline the code in both the old class-based paradigm, and the new functional +
Hooks paradigm.</p><h5 id="the-class-component-way">The Class Component Way</h5><pre><code class="language-tsx" metastring="title=&quot;Counter.tsx&quot;" title="&quot;Counter.tsx&quot;">import React from &#x27;react&#x27;;

type State = { readonly count: number };
export default class Counter extends React.Component&lt;{}, State&gt; {
  state: State = { count: 0 };

  handleClick = () =&gt; this.setState({ count: this.state.count + 1 });

  render() {
    return (
      &lt;div&gt;
        &lt;button onClick={this.handleClick}&gt;Click Me!&lt;/button&gt;
        &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt;
      &lt;/div&gt;
    );
  }
}
</code></pre><h5 id="the-functional-component--hooks-way">The Functional Component + Hooks Way</h5><pre><code class="language-tsx" metastring="title=&quot;Counter.tsx&quot;" title="&quot;Counter.tsx&quot;">import React, { useState } from &#x27;react&#x27;;

const Counter = () =&gt; {
  const [count, setCount] = useState(0);
  return (
    &lt;div&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;Click Me!&lt;/button&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
    &lt;/div&gt;
  );
};

export default Counter;
</code></pre><p>Right off the bat, we notice that the functional component with Hooks method is
much more concise and easier to understand. We were able to define the counter&#x27;s
default (starting) value of 0, its corresponding setter function, and variable to
access the state in one line!</p><p>To generalize the syntax of the <code>useState</code> Hook, the form is as shown below:</p><p><code>const [varname, setterFunc] = useState(initValue);</code>
<em>Note: states can be of any type.</em></p><p>We can also share Hooks across multiple components, allowing for even better
reusability of code.</p><h3 id="useeffect"><code>useEffect</code></h3><p>The <code>useEffect</code> component allows use to trigger side effects in functional components.
It takes in a function (we can pass in ES6 arrow functions), which is called <em>every
time</em> after the component renders, which is to say every time one of the component&#x27;s
states (in its <code>useState</code> Hooks) change.</p><p>If we take the previous Counter example and want to change the title of the webpage
every time the Counter rerenders,</p><pre><code class="language-tsx">useEffect(() =&gt; {
  document.title = `You clicked ${count} times`;
});
</code></pre><p><code>useEffect</code> also has a optional second parameter, which is an array of dependencies.
If any of these dependencies change (like state variables), the effect is run. For example,
if we want to update the title of our webpage when the Counter from the previous example
changes its <code>count</code> state, we would use the following <code>useEffect</code> Hook in the functional
component:</p><pre><code class="language-tsx">// This code will only call the function when the count changes - more optimized
useEffect(() =&gt; {
  document.title = `You clicked ${count} times`;
}, [count]);
</code></pre><h4 id="useeffect---subscribing-to-outside-data-and-separating-concerns"><code>useEffect</code> - Subscribing to Outside Data and Separating Concerns</h4><p>Oftentimes when developing web applications, we use APIs to continually update
and serve data to the user. These can be our own homemade APIs through tools like
Express, or external APIs. In any case, it can be wasteful to constantly subscribe
to an API when the data isn&#x27;t being rendered. In the second <code>useEffect</code> call below,
assume we have a <code>ChatAPI</code> object we can subscribe to and receive data from, or
unsubscribe to. We can return a <strong>function</strong> from a <code>useEffect</code> call to be run
after it completes, and we pass it an arrow function that simply unsubscribes from the current API instance.</p><p>Also, even though we might be using the same hook for managing side effects of
different parts of a component, it&#x27;s best practice to separate them into different
function calls, as seen with the two <code>useEffect</code> functions below. Both of them will
still be run when the component re-renders (e.x. when any state of the component or parent component is changed).</p><pre><code class="language-tsx" metastring="title=&quot;FriendStatusWithCounter.tsx&quot;" title="&quot;FriendStatusWithCounter.tsx&quot;">type Props = { readonly friend: { readonly id: string } };

const FriendStatusWithCounter = ({ friend }: Props) =&gt; {
  const [count, setCount] = useState(0);
  const [isOnline, setIsOnline] = useState(false);

  useEffect(() =&gt; {
    document.title = `You clicked ${count} times`;
  });

  useEffect(() =&gt; {
    ChatAPI.subscribeToFriendStatus(friend.id, (status) =&gt; {
      setIsOnline(status.online);
    });
    // Cleanup code
    return () =&gt; ChatAPI.unsubscribeToFriendStatus(friend.id);
  });

  return (
    &lt;div&gt;
      Your friend with id {id} is {isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;}.
    &lt;/div&gt;
  );
};
</code></pre><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>While searching online for help / debugging, you will often
run into StackOverflow answers or other resources for React dating back from
a few years ago. Unfortunately, when it comes to developing with modern web
technologies like React, some solutions often include deprecated features of React
in the present day or need to be translated to the new paradigm (like Hooks).
It is up to the developer to find the best solution that compromises between
the bleeding-edge and practicality.</p></div></div><h2 id="thinking-react-ively">Thinking React-ively</h2><p>You&#x27;ve now had three weeks devoted to React, currently the most dominant frontend
web framework in use for modern web applications. We&#x27;ve learned how to think about
things from a component and state-based perspective, which has greatly helped us
to modularize and reuse code effectively.</p><p>Here is a general thought-flow, from the perspective of a front-end engineer
developing a React webapp from a design mock + API from the backend engineers:</p><ol><li>Break the UI into a component hierarchy. Each component should have a singular
job, and should be reusable.</li><li>Begin by building a static version of that component (not data-driven yet and
not interactive), based on the JSON API provided by the backend.</li><li>Identify minimal representation of the UI state.</li><li>Determine where the state should &quot;live&quot;: should it be lifted up into a parent component
as a common owner between multiple child components?</li><li>Add inverse data flow - handle changes in the child component through a
parent component</li><li>Connect component to the backend (more on this in Lecture 8!)</li></ol><h2 id="filterable-product-table-example">Filterable Product Table Example</h2><p>This section contains the code from the live demo presented during class. Watch the
lecture video linked at the top for an explanation of the code, intended to
teach how to think in the React development paradigm.</p><pre><code class="language-tsx" metastring="title=&quot;App.tsx (root component)&quot;" title="&quot;App.tsx">import React from &#x27;react&#x27;;
import FilterableProductTable from &#x27;./FilterableProductTable&#x27;;

const PRODUCTS = [
  {
    category: &#x27;Sporting Goods&#x27;,
    price: &#x27;$49.99&#x27;,
    stocked: true,
    name: &#x27;Football&#x27;,
  },
  {
    category: &#x27;Sporting Goods&#x27;,
    price: &#x27;$9.99&#x27;,
    stocked: true,
    name: &#x27;Baseball&#x27;,
  },
  {
    category: &#x27;Sporting Goods&#x27;,
    price: &#x27;$29.99&#x27;,
    stocked: false,
    name: &#x27;Basketball&#x27;,
  },
  {
    category: &#x27;Electronics&#x27;,
    price: &#x27;$99.99&#x27;,
    stocked: true,
    name: &#x27;iPod Touch&#x27;,
  },
  {
    category: &#x27;Electronics&#x27;,
    price: &#x27;$399.99&#x27;,
    stocked: false,
    name: &#x27;iPhone 5&#x27;,
  },
  {
    category: &#x27;Electronics&#x27;,
    price: &#x27;$199.99&#x27;,
    stocked: true,
    name: &#x27;Nexus 7&#x27;,
  },
];

const App = () =&gt; (
  &lt;div className=&quot;App&quot;&gt;
    &lt;FilterableProductTable products={PRODUCTS} /&gt;
  &lt;/div&gt;
);

export default App;
</code></pre><pre><code class="language-tsx" metastring="title=&quot;FilterableProductTable.tsx&quot;" title="&quot;FilterableProductTable.tsx&quot;">import React, { ChangeEvent, useState } from &#x27;react&#x27;;
import ProductTable, { Product } from &#x27;./Starter&#x27;;

type TableProps = {
  readonly products: Product[];
};

type SearchProps = {
  readonly filterText: string;
  readonly inStockOnly: boolean;
  readonly handleFilterTextChange: (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void;
  readonly handleCheckBoxChange: (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void;
};

const SearchBar = ({
  filterText,
  inStockOnly,
  handleFilterTextChange,
  handleCheckBoxChange,
}: SearchProps) =&gt; (
  &lt;form&gt;
    &lt;input
      type=&quot;text&quot;
      placeholder=&quot;Search...&quot;
      value={filterText}
      onChange={handleFilterTextChange}
    /&gt;
    &lt;p&gt;
      &lt;input
        type=&quot;checkbox&quot;
        checked={inStockOnly}
        onChange={handleCheckBoxChange}
      /&gt;{&#x27; &#x27;}
      Only show products in stock
    &lt;/p&gt;
  &lt;/form&gt;
);

const FilterableProductTable = ({ products }: TableProps) =&gt; {
  const [filterText, setFilterText] = useState(&#x27;&#x27;);
  const [inStockOnly, setInStockOnly] = useState(false);

  const handleFilterTextChange = (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt;
    setFilterText(e.target.value);
  const handleCheckBoxChange = (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt;
    setInStockOnly(e.target.checked);

  return (
    &lt;div&gt;
      &lt;SearchBar
        filterText={filterText} // states passed as prop to SearchBar
        inStockOnly={inStockOnly} // states passed as prop to SearchBar
        handleFilterTextChange={handleFilterTextChange} // pass down callbacks to update search state
        handleCheckBoxChange={handleCheckBoxChange}
      /&gt;
      &lt;ProductTable
        products={products} // JSON API model
        filterText={filterText} // states passed as prop to SearchBar
        inStockOnly={inStockOnly} // states passed as prop to SearchBar
      /&gt;
    &lt;/div&gt;
  );
};

export default FilterableProductTable;
</code></pre><pre><code class="language-tsx" metastring="title=&quot;Starter.tsx&quot;" title="&quot;Starter.tsx&quot;">// Contains all the base components (we can put multiple components in a jsx file
// for convenience, though this is not usually good practice).
import React, { ReactElement } from &#x27;react&#x27;;
// These components will be starter code because they are most self-explanatory
// and purely presentational. We will go over this code briefly in lecture.
// Students encouraged to read this on their own time.

// Export since this is used in FilterableProductTable as well
export type Product = {
  readonly category: string;
  readonly price: string;
  readonly stocked: boolean;
  readonly name: string;
};

const ProductRow = (product: Product) =&gt; {
  const name = product.stocked ? (
    product.name
  ) : (
    &lt;span style={{ color: &#x27;red&#x27; }}&gt;{product.name}&lt;/span&gt;
  );
  return (
    &lt;tr&gt;
      &lt;td&gt;{name}&lt;/td&gt;
      &lt;td&gt;{product.price}&lt;/td&gt;
    &lt;/tr&gt;
  );
};

type RowProps = {
  readonly category: string;
};

const ProductCategoryRow = ({ category }: RowProps) =&gt; (
  &lt;tr&gt;
    &lt;th colSpan={2}&gt;{category}&lt;/th&gt;
  &lt;/tr&gt;
);

type Props = {
  readonly products: Product[];
  readonly filterText: string;
  readonly inStockOnly: boolean;
};

const ProductTable = ({ products, filterText, inStockOnly }: Props) =&gt; {
  const rows: ReactElement[] = [];
  let lastCategory: string | null = null;

  products.forEach((product) =&gt; {
    if (product.name.indexOf(filterText) === -1) {
      return;
    }
    if (inStockOnly &amp;&amp; !product.stocked) {
      return;
    }
    if (product.category !== lastCategory) {
      rows.push(
        &lt;ProductCategoryRow
          category={product.category}
          key={product.category}
        /&gt;
      );
    }
    rows.push(&lt;ProductRow key={product.name} {...product} /&gt;);
    lastCategory = product.category;
  });

  return (
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;Name&lt;/th&gt;
          &lt;th&gt;Price&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;{rows}&lt;/tbody&gt;
    &lt;/table&gt;
  );
};

// Here we can export all these components at once!
// Notice also the name of the file does not match any single component name.
// export { ProductRow, ProductCategoryRow, ProductTable };
export default ProductTable; // but we only need ProductTable here (in FilterableProductTable.jsx)
</code></pre></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/lecture6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Lecture 6</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/lecture8"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lecture 8 Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_39nx thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hooks-and-more-on-functional-components-in-react" class="table-of-contents__link">Hooks, and More on Functional Components in React</a></li><li><a href="#hooks" class="table-of-contents__link">Hooks</a><ul><li><a href="#usestate" class="table-of-contents__link"><code>useState</code></a></li><li><a href="#useeffect" class="table-of-contents__link"><code>useEffect</code></a></li></ul></li><li><a href="#thinking-react-ively" class="table-of-contents__link">Thinking React-ively</a></li><li><a href="#filterable-product-table-example" class="table-of-contents__link">Filterable Product Table Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Course</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup-environment">Setup Environment</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/setup-editor">Setup Editor</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/lecture1">First Lecture</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Cornell DTI</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.cornelldti.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website</a></li><li class="footer__item"><a href="https://github.com/cornell-dti" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://www.facebook.com/cornelldti/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://medium.com/cornell-design-tech-initiative/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Cornell DTI Products</h4><ul class="footer__items"><li class="footer__item"><a href="https://courseplan.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Course Plan</a></li><li class="footer__item"><a href="https://www.cureviews.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CU Reviews</a></li><li class="footer__item"><a href="https://www.cornelldti.org/Projects/events" target="_blank" rel="noopener noreferrer" class="footer__link-item">eve</a></li><li class="footer__item"><a href="https://www.cornelldti.org/Projects/flux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flux</a></li><li class="footer__item"><a href="https://www.cornelldti.org/Projects/orientation" target="_blank" rel="noopener noreferrer" class="footer__link-item">O-Week</a></li><li class="footer__item"><a href="https://queueme.in/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Queue Me In</a></li><li class="footer__item"><a href="https://www.research-connect.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Research Connect</a></li><li class="footer__item"><a href="https://samwise.today" target="_blank" rel="noopener noreferrer" class="footer__link-item">Samwise</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Cornell DTI Text Logo" src="/img/dti-text-logo.png"></div><div>Copyright Â© 2020 Cornell Design & Tech Initiative. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.b3ac23f8.js"></script>
<script src="/runtime~main.51f706eb.js"></script>
<script src="/main.06297e21.js"></script>
<script src="/1.2cf48a0e.js"></script>
<script src="/1be78505.224fd55d.js"></script>
<script src="/1df93b7f.4d2ce04f.js"></script>
<script src="/42.18598128.js"></script>
<script src="/41.0c9eefb5.js"></script>
<script src="/1dee71fb.0bffaa0f.js"></script>
<script src="/40.f6ae906f.js"></script>
<script src="/34340b99.28b765f4.js"></script>
</body>
</html>