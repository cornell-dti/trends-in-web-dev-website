"use strict";(self.webpackChunktrends_in_web_dev_website=self.webpackChunktrends_in_web_dev_website||[]).push([[720],{7300:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return c}});var a=n(6687);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),c=r,k=m["".concat(s,".").concat(c)]||m[c]||u[c]||i;return n?a.createElement(k,o(o({ref:t},d),{},{components:n})):a.createElement(k,o({ref:t},d))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},163:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return d},default:function(){return m}});var a=n(3206),r=n(5421),i=(n(6687),n(7300)),o=["components"],l={id:"lecture2",title:"Lecture 2"},s=void 0,p={unversionedId:"lecture2",id:"version-2021fa/lecture2",isDocsHomePage:!1,title:"Lecture 2",description:"Lecture Slides",source:"@site/versioned_docs/version-2021fa/lecture2.md",sourceDirName:".",slug:"/lecture2",permalink:"/docs/lecture2",tags:[],version:"2021fa",frontMatter:{id:"lecture2",title:"Lecture 2"},sidebar:"version-2021fa/docs",previous:{title:"Lecture 1",permalink:"/docs/lecture1"},next:{title:"Lecture 3",permalink:"/docs/lecture3"}},d=[{value:"How to build a web app",id:"how-to-build-a-web-app",children:[{value:"How websites work",id:"how-websites-work",children:[],level:3}],level:2},{value:"Node.js",id:"nodejs",children:[{value:"Open Source",id:"open-source",children:[],level:4},{value:"Cross Platform JavaScript Runtime Environment",id:"cross-platform-javascript-runtime-environment",children:[],level:4},{value:"Single-threaded",id:"single-threaded",children:[],level:4},{value:"How does Node.js handle multiple requests?",id:"how-does-nodejs-handle-multiple-requests",children:[],level:4},{value:"Event Loop",id:"event-loop",children:[],level:4},{value:"Why Node.js?",id:"why-nodejs",children:[],level:4},{value:"Node Package Manager (NPM)",id:"node-package-manager-npm",children:[],level:4},{value:"package.json",id:"packagejson",children:[],level:4},{value:"We will use Yarn!",id:"we-will-use-yarn",children:[],level:4},{value:"NPM vs Yarn commands",id:"npm-vs-yarn-commands",children:[],level:4}],level:2},{value:"Express",id:"express",children:[{value:"HTTP Methods",id:"http-methods",children:[],level:3},{value:"Express",id:"express-1",children:[],level:3},{value:"Responding to Requests",id:"responding-to-requests",children:[{value:"Route Parameters and Query Parameters",id:"route-parameters-and-query-parameters",children:[],level:4},{value:"Route Parameters in Express",id:"route-parameters-in-express",children:[],level:4},{value:"Query Parameters in Express",id:"query-parameters-in-express",children:[],level:4},{value:"Multiple Query Parameters",id:"multiple-query-parameters",children:[],level:4}],level:3}],level:2},{value:"How to set up a Node Project",id:"how-to-set-up-a-node-project",children:[{value:"Initializing a Node project",id:"initializing-a-node-project",children:[],level:3},{value:"Installing Dependencies",id:"installing-dependencies",children:[],level:3},{value:"<strong>Don&#39;t Submit <code>node_modules</code>!!</strong>",id:"dont-submit-node_modules",children:[],level:3}],level:2},{value:"Live Coding Demo",id:"live-coding-demo",children:[],level:2}],u={toc:d};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://docs.google.com/presentation/d/18MXoE6d0WGPSffV_vnuE1prbs5qLchwKce_ZTCsISEw/edit?usp=sharing"},"Lecture Slides")),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"/docs/assignment1"},"Assignment 1")," (due 10/7 6:29 PM on CMS)"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://edstem.org/us/join/Cm4Kt5"},"Join the Ed!")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Topics: Node.js, Express, HTTP Methods")),(0,i.kt)("h2",{id:"how-to-build-a-web-app"},"How to build a web app"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Intro to Node.js and Yarn")),(0,i.kt)("h3",{id:"how-websites-work"},"How websites work"),(0,i.kt)("p",null,"Websites are accessed by HTTP requests, and these requests go to the server, where it fetches the information queried and sends the data back to the client. This cycle between sending requests back and forth between client and server then repeats!"),(0,i.kt)("h2",{id:"nodejs"},"Node.js"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Node.js is an open source, cross platform JavaScript V8 runtime environment using a single-threaded event loop.")),(0,i.kt)("p",null,"Let's break it down..."),(0,i.kt)("h4",{id:"open-source"},"Open Source"),(0,i.kt)("p",null,"All of the code is available to you to view on ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/nodejs/node"},"Github"),"! Anyone can contribute-- this democratizes the development process!"),(0,i.kt)("h4",{id:"cross-platform-javascript-runtime-environment"},"Cross Platform JavaScript Runtime Environment"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Historically you were only able to run JavaScript on the browser or client"),(0,i.kt)("li",{parentName:"ul"},"Node.js takes the V8 JavaScript engine powering Google Chrome outside of the browser allowing you to run Node.js ",(0,i.kt)("strong",{parentName:"li"},"anywhere"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"V8 JavaScript engine is a fast JavaScript engine created by Google. Learn more about it ",(0,i.kt)("a",{parentName:"li",href:"https://v8.dev/"},"here"),"!"))),(0,i.kt)("li",{parentName:"ul"},"Can run Node.js on your terminal as well"),(0,i.kt)("li",{parentName:"ul"},"Now, we can use JavaScript as a ",(0,i.kt)("strong",{parentName:"li"},"universal language"),"!")),(0,i.kt)("h4",{id:"single-threaded"},"Single-threaded"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Threads are a separate line of execution and can be ran in parallel - i.e. several at\nthe same time."),(0,i.kt)("li",{parentName:"ul"},"However, Node.js uses a single-threaded event loop",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Run in a single process"),(0,i.kt)("li",{parentName:"ul"},"Requests do not spawn new threads"))),(0,i.kt)("li",{parentName:"ul"},"Non-blocking")),(0,i.kt)("h4",{id:"how-does-nodejs-handle-multiple-requests"},"How does Node.js handle multiple requests?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Node.js is ",(0,i.kt)("strong",{parentName:"li"},"asynchronous")),(0,i.kt)("li",{parentName:"ul"},"When a request is sent, it is dispatched to the server"),(0,i.kt)("li",{parentName:"ul"},"Instead of blocking the thread and wasting CPU cycles waiting for the request to finish, Node.js continues its operations"),(0,i.kt)("li",{parentName:"ul"},"Once the request is complete, a callback is triggered and information is sent back")),(0,i.kt)("h4",{id:"event-loop"},"Event Loop"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Client can send requests into the event loop"),(0,i.kt)("li",{parentName:"ul"},"We can register callbacks to server when doing things that might take time (ie. search, query, intensive computation)"),(0,i.kt)("li",{parentName:"ul"},"After operation completes, callback will fire and return to requests")),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"A callback is a function that you can pass to another function to be executed\nlater. This is a common pattern in web development, since lots of data goes\nfrom the client to the server, and we want to implement certain behavior that fires\nafter the data is received."))),(0,i.kt)("h4",{id:"why-nodejs"},"Why Node.js?"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Unites front-end and back-end in one language/framework",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"TypeScript/JavaScript"),(0,i.kt)("li",{parentName:"ul"},"Frontend and backend in the same language"))),(0,i.kt)("li",{parentName:"ul"},"Extremely performant"),(0,i.kt)("li",{parentName:"ul"},"Asynchronous and non-blocking"),(0,i.kt)("li",{parentName:"ul"},"NPM (Node Package Manager)",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"a directory of many libraries and packages"),(0,i.kt)("li",{parentName:"ul"},"access to huge libraries to use in projects and build upon"),(0,i.kt)("li",{parentName:"ul"},"similar to ",(0,i.kt)("inlineCode",{parentName:"li"},"pip")," in Python, Gradle/Maven in Java, etc (it's okay if you've never heard of these!)")))),(0,i.kt)("h4",{id:"node-package-manager-npm"},"Node Package Manager (NPM)"),(0,i.kt)("p",null,"NPM is a dependency manager, like pip for python or maven for java. Think of node packages as recipes made by other people you want to use in your site.\nAlso part of the open sourced community!"),(0,i.kt)("h4",{id:"packagejson"},"package.json"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," is kind of like a directory for your Node project. It contains\nvarious metadata and information about it, as well as details on what it depends\non, so others can reproduce the behavior of your project."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Tracks which node packages you use"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Dependencies"),": packages needed at run-time")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npm install --save <pkg_name>\nyarn add <pkg_name>\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"devDependencies"),': packages used during development (before pushing to production).\nWhen a "production" or real version gets built prior to deployment, these dependencies\nwill not be included. Only install certain tools that ease development in this manner.')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npm install --save-dev <pkg_name>\nyarn add --dev <pkg_name>\n")),(0,i.kt)("h4",{id:"we-will-use-yarn"},"We will use Yarn!"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Faster at installing dependencies in practice"),(0,i.kt)("li",{parentName:"ul"},"More optimized")),(0,i.kt)("h4",{id:"npm-vs-yarn-commands"},"NPM vs Yarn commands"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"NPM")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npm init\nnpm install <pkg_name>\nnpm uninstall <pkg_name>\nnpm update <pkg_name>\nnpm audit\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Yarn")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"yarn init\nyarn add <pkg_name>\nyarn remove <pkg_name>\nyarn upgrade <pkg_name>\nyarn audit\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Very similar"),(0,i.kt)("li",{parentName:"ul"},"Audit: checks for vulnerabilities in dependencies")),(0,i.kt)("h2",{id:"express"},"Express"),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Intro to ",(0,i.kt)("strong",{parentName:"em"},"backend routes"),"!")),(0,i.kt)("h3",{id:"http-methods"},"HTTP Methods"),(0,i.kt)("p",null,"When you want to visit a website in your browser, you send a request to the server asking for information."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Types"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"POST"),(0,i.kt)("li",{parentName:"ul"},"GET"),(0,i.kt)("li",{parentName:"ul"},"PUT"),(0,i.kt)("li",{parentName:"ul"},"DELETE"),(0,i.kt)("li",{parentName:"ul"},"PATCH"),(0,i.kt)("li",{parentName:"ul"},"(... and more)"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Definitions"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"POST"),": used to submit an entity to the specified resource, often causing a change in state or side effects on server"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"GET"),": requests a representation of the specified resource",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Should only ",(0,i.kt)("em",{parentName:"li"},"retrieve")," data"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"PUT"),": similar to POST request (uploads data), but ",(0,i.kt)("em",{parentName:"li"},"idempotently"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"updates data"),(0,i.kt)("li",{parentName:"ul"},"ie. editing a Facebook post")))),(0,i.kt)("p",{parentName:"li"},'An important thing to note with these HTTP "verbs" is that they don\'t enforce\ntheir intended properties; i.e. you could theoretically make a ',(0,i.kt)("inlineCode",{parentName:"p"},"GET")," request that\ndoes ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," behavior. However, these methods are usually used to develop an API\nthat could have multiple users, from your frontend UI to other people using\nyour service, so you want them to be as self-documenting as possible."))),(0,i.kt)("h3",{id:"express-1"},"Express"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Very popular, lightweight NPM package used as a middle layer for routing HTTP requests"),(0,i.kt)("li",{parentName:"ul"},"Middleware that acts as interface between client and server to make it more dynamic")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const express = require('express');\nconst app = express();\n\n// respond with \"hello world\" when a GET request is made to\n// the homepage (root of website)\napp.get('/', function (req, res) {\n  res.send('hello world');\n});\napp.listen(8080, function () {\n  console.log('Listening on port 8080');\n});\n")),(0,i.kt)("h3",{id:"responding-to-requests"},"Responding to Requests"),(0,i.kt)("p",null,"One of the first tasks when building a website is responding to the requests that come from the browser. In this lecture, we will be building a basic Node app using Express to interpret requests and respond to them."),(0,i.kt)("p",null,"Route definition takes the following structure:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"app.METHOD(PATH, HANDLER);\n")),(0,i.kt)("p",null,"Where:\n",(0,i.kt)("strong",{parentName:"p"},"app")," is an instance of express.\n",(0,i.kt)("strong",{parentName:"p"},"METHOD")," is an HTTP request method, in lowercase.\n",(0,i.kt)("strong",{parentName:"p"},"PATH")," is a path on the server.\n",(0,i.kt)("strong",{parentName:"p"},"HANDLER")," is the function executed when the route is matched."),(0,i.kt)("p",null,"The following code sends \u201chello world\u201d as a result of a GET request to \u2018/' endpoint."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const express = require('express');\nconst app = express();\n\n// respond with \"hello world\" when a GET request is made to the homepage\napp.get('/', function (req, res) {\n  res.send('hello world');\n});\n")),(0,i.kt)("h4",{id:"route-parameters-and-query-parameters"},"Route Parameters and Query Parameters"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/route/some-param")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"typically used to identify a ",(0,i.kt)("strong",{parentName:"li"},"specific")," resource")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/route?param=value")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"typically used to ",(0,i.kt)("strong",{parentName:"li"},"sort/filter")," through resources")),(0,i.kt)("h4",{id:"route-parameters-in-express"},"Route Parameters in Express"),(0,i.kt)("p",null,"Take a look at this route, paying special attention to the ",(0,i.kt)("inlineCode",{parentName:"p"},":")," characters. Those denote parameters in the route."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"app.get('/users/:userId/books/:bookId', function (req, res) {\n  res.send(req.params);\n});\n")),(0,i.kt)("p",null,"For example, if you navigate to the page ",(0,i.kt)("inlineCode",{parentName:"p"},"/users/34/books/12973"),", you would now be able to use those IDs in your code. ",(0,i.kt)("inlineCode",{parentName:"p"},"req.params.userId")," would now equal ",(0,i.kt)("inlineCode",{parentName:"p"},"34")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"req.params.bookId")," would now equal ",(0,i.kt)("inlineCode",{parentName:"p"},"12973"),". This allows you to respond differently depending on IDs passed to you by the front end."),(0,i.kt)("p",null,"In the following code snippet we use ",(0,i.kt)("inlineCode",{parentName:"p"},"app.get()")," to query a messages endpoint and we want to get a specific message. We call this query parameter ",(0,i.kt)("inlineCode",{parentName:"p"},"messageId")," and can use it in the function we pass to ",(0,i.kt)("inlineCode",{parentName:"p"},"app.get()")," to return that message."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const messages = {...}\napp.get('/messages/:messageId', (req, res) => {\n // messages is an object with an array of message types, with each ID corresponding to its index\n return res.send(messages[req.params.messageId]);\n});\n")),(0,i.kt)("h4",{id:"query-parameters-in-express"},"Query Parameters in Express"),(0,i.kt)("p",null,"We can also send information in a request through query parameters."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"app.get('/users/', function (req, res) {\n  res.send(req.query.id);\n});\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Example request:\n",(0,i.kt)("inlineCode",{parentName:"li"},"/users?name=samwise"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"req.query.name"),' will be set to "samwise"')))),(0,i.kt)("h4",{id:"multiple-query-parameters"},"Multiple Query Parameters"),(0,i.kt)("p",null,"We can define multiple query parameters"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"app.get('/products', function (req, res) {\n  const name = req.query['name'];\n  const maxPriceFilter = req.query['max-price'];\n  // do some computation on the backend based on this data\n});\n")),(0,i.kt)("p",null,"Notice we can treat queries like objects (ie. the ",(0,i.kt)("inlineCode",{parentName:"p"},"req.query['name']")," syntax)."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Example request: ",(0,i.kt)("inlineCode",{parentName:"li"},"/products?name=apples&max-price=10"))),(0,i.kt)("h2",{id:"how-to-set-up-a-node-project"},"How to set up a Node Project"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"yarn init\nyarn add <package name>\n")),(0,i.kt)("h3",{id:"initializing-a-node-project"},"Initializing a Node project"),(0,i.kt)("p",null,"Let's dive deeper into what happens when you setup a Node project using Yarn."),(0,i.kt)("p",null,"Navigate to an empty folder where you want your project to be located. I will assume this folder is called ",(0,i.kt)("inlineCode",{parentName:"p"},"helloworld"),"."),(0,i.kt)("p",null,"Run ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn init")," in this folder on the terminal. (Use ",(0,i.kt)("inlineCode",{parentName:"p"},"cd")," to navigate to you ",(0,i.kt)("inlineCode",{parentName:"p"},"helloworld")," folder in terminal)"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Note that we are using ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn init")," rather than ",(0,i.kt)("inlineCode",{parentName:"p"},"npm init"),". We will be using Yarn as our\nNode package manager in its class (this is used in production at many companies like Facebook!), and its corresponding commands for installing packages as well."))),(0,i.kt)("p",null,"Upon running ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn init"),", and answering the questions as seen in the previous lecture, we now need to add our dependencies for the project and scripts to start it."),(0,i.kt)("h3",{id:"installing-dependencies"},"Installing Dependencies"),(0,i.kt)("p",null,"Node projects don't come with every possible dependency right out of the box. We\nwill add these with Yarn by using ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add <pkg_name>")," (which is the equivalent\nof ",(0,i.kt)("inlineCode",{parentName:"p"},"npm install <pkg_name> --save"),", but remember we are using Yarn.)"),(0,i.kt)("p",null,"Every time you add a dependency with ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add <pkg_name>"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"<pkg_name>")," will be added to your dependencies in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," if it can be found. It will also be added to ",(0,i.kt)("inlineCode",{parentName:"p"},"node_modules/"),"."),(0,i.kt)("p",null,"Take a look inside your ",(0,i.kt)("inlineCode",{parentName:"p"},"node_modules")," folder. This is where all your packages will be installed. Notice that even though you just installed one package, multiple packages are in ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),". This is because ",(0,i.kt)("inlineCode",{parentName:"p"},"express")," itself has several of its own dependencies that also got installed."),(0,i.kt)("p",null,"You can find more packages to use on ",(0,i.kt)("a",{parentName:"p",href:"https://www.npmjs.com/"},"npmjs.com"),"."),(0,i.kt)("h3",{id:"dont-submit-node_modules"},(0,i.kt)("strong",{parentName:"h3"},"Don't Submit ",(0,i.kt)("inlineCode",{parentName:"strong"},"node_modules"),"!!")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"node_modules")," can be potentially hundreds of megabytes of data for packages you installed. It is important to never submit this with your assignment or push it up to any remote repositories such as GitHub. Before submitting an assignment, remember to leave out ",(0,i.kt)("inlineCode",{parentName:"p"},"node_modules")," when zipping your folder. ",(0,i.kt)("em",{parentName:"p"},"You will be penalized if ",(0,i.kt)("inlineCode",{parentName:"em"},"node_modules")," is submitted"),". Don't worry, we will be able to recover your dependencies simply by running ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn install"),"."),(0,i.kt)("h2",{id:"live-coding-demo"},"Live Coding Demo"),(0,i.kt)("p",null,"We demoed how to set up a yarn project and create some basic getter HTTP routes."),(0,i.kt)("p",null,"Set up a yarn project by running ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn init"),". It will ask you a few questions and you can press return to accept all the defaults:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn init v1.22.13\nquestion name (lecture2):\nquestion version (1.0.0):\nquestion description:\nquestion entry point (index.ts):\nquestion repository url:\nquestion author:\nquestion license (MIT):\nquestion private:\nsuccess Saved package.json\n")),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You can also use ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn init -y")," to set up a project with all the default values!"))),(0,i.kt)("p",null,"This will generate a ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," file with all the inputs you provided."),(0,i.kt)("p",null,"We also want to add several dependencies starting with ",(0,i.kt)("inlineCode",{parentName:"p"},"express"),". Add express with ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add express"),". Since we are also using TypeScript we want to install the ",(0,i.kt)("inlineCode",{parentName:"p"},"typescript")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"ts-node")," packages as well using ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add typescript ts-node"),". Finally to get some nice autocompletion features, we want to install ",(0,i.kt)("inlineCode",{parentName:"p"},"@types/node")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"@types/express")," as ",(0,i.kt)("em",{parentName:"p"},"devDependencies")," using ",(0,i.kt)("inlineCode",{parentName:"p"},"yarn add -D @types/node @types/express"),"."),(0,i.kt)("p",null,"Your ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json")," should now look like the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="package.json"',title:'"package.json"'},'{\n  "name": "lecture2",\n  "version": "1.0.0",\n  "main": "index.ts",\n  "license": "MIT",\n  "dependencies": {\n    "express": "^4.17.1",\n    "ts-node": "^10.2.1",\n    "typescript": "^4.4.3"\n  },\n  "devDependencies": {\n    "@types/express": "^4.17.13",\n    "@types/node": "^16.10.2"\n  }\n}\n')),(0,i.kt)("p",null,"Now we can define some basic express routes in a file ",(0,i.kt)("inlineCode",{parentName:"p"},"index.ts"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="index.ts"',title:'"index.ts"'},"import express from 'express';\n\nconst app = express();\n\napp.get('/home', function (req, res) {\n  res.send('Welcome Home!');\n});\n\n// example using path parameters\napp.get('/users/:name/:lname', function (req, res) {\n  res.send('Hello ' + req.params.name + ' ' + req.params.lname);\n});\n\n// example using query parameters\napp.get('/users', function (req, res) {\n  res.send('Hello ' + req.query.name + ' ' + req.query.lname);\n});\n\n// tell express to listen for requests on port 8080\napp.listen(8080, function () {\n  console.log('server started');\n});\n")),(0,i.kt)("p",null,"Add the following to your ",(0,i.kt)("inlineCode",{parentName:"p"},"package.json"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'// other package.json properties...\n"scripts": {\n  // other scripts...\n  "start": "ts-node index.ts"\n}\n')),(0,i.kt)("p",null,"Now when you go to ",(0,i.kt)("inlineCode",{parentName:"p"},"localhost:8080/home")," you should see ",(0,i.kt)("inlineCode",{parentName:"p"},"Welcome home!"),". At\n",(0,i.kt)("inlineCode",{parentName:"p"},"localhost:8080/users/<your_name>/<your_last_name>")," or\n",(0,i.kt)("inlineCode",{parentName:"p"},"localhost:8080/users/?name=<your_name>&lname=<your_last_name>")," you should see\n",(0,i.kt)("inlineCode",{parentName:"p"},"Hello <your_name> <your_last_name>"),"."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"This was Node.js (and Express)!")))}m.isMDXComponent=!0},3206:function(e,t,n){function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a.apply(this,arguments)}n.d(t,{Z:function(){return a}})},5421:function(e,t,n){function a(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:function(){return a}})}}]);