(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{149:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var o=n(1),a=n(9),r=(n(0),n(162)),c={id:"lecture7",title:"Lecture 7"},i={id:"lecture7",title:"Lecture 7",description:"[Lecture Slides](https://docs.google.com/presentation/d/1iIojQhqKkxoWzfysgNlOuQHDld9C5h96Vq2VKVvqgUQ/edit?usp=sharing)",source:"@site/docs/lecture7.md",permalink:"/docs/lecture7",sidebar:"docs",previous:{title:"Lecture 6",permalink:"/docs/lecture6"},next:{title:"Lecture 8",permalink:"/docs/lecture8"}},l=[{value:"Hooks, and More on Functional Components in React",id:"hooks-and-more-on-functional-components-in-react",children:[]},{value:"Hooks",id:"hooks",children:[{value:"<code>useState</code>",id:"usestate",children:[]},{value:"<code>useEffect</code>",id:"useeffect",children:[]},{value:"Important Note",id:"important-note",children:[]}]},{value:"Thinking React-ively",id:"thinking-react-ively",children:[]},{value:"Filterable Product Table Example",id:"filterable-product-table-example",children:[]}],s={rightToc:l};function p(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://docs.google.com/presentation/d/1iIojQhqKkxoWzfysgNlOuQHDld9C5h96Vq2VKVvqgUQ/edit?usp=sharing"}),"Lecture Slides")),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://drive.google.com/file/d/16TuoTvZWy1KNoKI3vNwC_nl2AyatBw4m/view?usp=sharing"}),"Lecture Video")),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://github.com/ashneeldas2/trends-sp20/tree/master/FinalProject"}),"Final Project")),Object(r.b)("p",null,Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://forms.gle/7NtKLvJrFwaVgWu37"}),"Milestone 0")," of Final Project due ",Object(r.b)("strong",{parentName:"p"},"04/18 11:59pm")),Object(r.b)("p",null,"Milestone 1 of Final Project due ",Object(r.b)("strong",{parentName:"p"},"04/22 7:59pm")),Object(r.b)("p",null,Object(r.b)("em",{parentName:"p"},"Optional GitHub Workshop ",Object(r.b)("strong",{parentName:"em"},"Saturday 04/18 7:30-8:30pm")),"\n",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://docs.google.com/presentation/d/1f3rjNbsYns0Pyd9sPbg46uuUgxtSZ_fCnfZaTqHA754/edit?usp=sharing"}),"GitHub Workshop Slides"),"\n",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://drive.google.com/file/d/1J7uVxpNQrwb8nRylIZLv_jeh7AC5HyoB/view"}),"GitHub Workshop Video")),Object(r.b)("h2",{id:"hooks-and-more-on-functional-components-in-react"},"Hooks, and More on Functional Components in React"),Object(r.b)("p",null,"React has changed a lot in the past few years since it was released in 2013,\nin true JavaScript library fashion. A major new concept leading the way of much\ninnovation for React development is Hooks, released in ",Object(r.b)("strong",{parentName:"p"},"2019(!)"),". While there\nexist many Hooks in React (and you can even develop your own), we will be focusing\non two main Hooks in this class: ",Object(r.b)("inlineCode",{parentName:"p"},"useState")," and ",Object(r.b)("inlineCode",{parentName:"p"},"useEffect"),". You may read more about these other\n(equally as important but more involved) Hooks ",Object(r.b)("a",Object(o.a)({parentName:"p"},{href:"https://reactjs.org/docs/hooks-reference.html"}),"here"),"."),Object(r.b)("h2",{id:"hooks"},"Hooks"),Object(r.b)("p",null,"To put it simply, Hooks are functions for use in functional components, making them much more powerful."),Object(r.b)("p",null,"You can only call Hooks from the top-level of functional components or your own custom hooks."),Object(r.b)("p",null,"Previously, class components were primarily used for complex components in React\nwhich required their own states and needed to trigger their own side effects based\non updated values in the component, and more. These functionalities were implemented through\nsplitting a component into different parts of its lifecycle, which could easily\nbecome messy. The introduction of Hooks was a game changer, as it allows developers\nto do away with class-based components and their ugliness."),Object(r.b)("p",null,"While Hooks are a new addition to React, their usage along with functional\ncomponents have quickly become a dominant paradigm for React development, allowing\nfor developers to reduce boilerplate (code required every time you make a certain feature)\nand make code much more understandable (we've seen how functional programming makes code\nboth more concise and less bug-prone), without getting bogged down by confusing\nlifecycle methods."),Object(r.b)("h3",{id:"usestate"},Object(r.b)("inlineCode",{parentName:"h3"},"useState")),Object(r.b)("p",null,"We've shown the ",Object(r.b)("inlineCode",{parentName:"p"},"useState")," Hook in previous lectures and you've had to use it\nto keep track of state in A4 and A5. However, let's get deeper into understanding\nit more generally and what you can do with it."),Object(r.b)("h4",{id:"simple-counter-example"},"Simple Counter Example"),Object(r.b)("p",null,"Let's consider a simple counter component requiring the use of states. We will\noutline the code in both the old class-based paradigm, and the new functional +\nHooks paradigm."),Object(r.b)("h5",{id:"the-class-component-way"},"The Class Component Way"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="Counter.jsx"',title:'"Counter.jsx"'}),"import React from 'react';\n\nexport default class Counter extends React.Component {\n  state = { count: 0 };\n\n  handleClick = () => this.setState({ count: this.state.count + 1 });\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleClick}>Click Me!</button>\n        <p>You clicked {this.state.count} times</p>\n      </div>\n    );\n  }\n}\n")),Object(r.b)("h5",{id:"the-functional-component--hooks-way"},"The Functional Component + Hooks Way"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="Counter.jsx / Counter.tsx"',title:'"Counter.jsx',"/":!0,'Counter.tsx"':!0}),"import React, { useState } from 'react';\n\nexport default () => {\n  const [count, setCount] = useState(0);\n  return (\n    <div>\n      <button onClick={() => setCount(count + 1)}>Click Me!</button>\n      <p>You clicked {count} times</p>\n    </div>\n  );\n};\n")),Object(r.b)("p",null,"Right off the bat, we notice that the functional component with Hooks method is\nmuch more concise and easier to understand. We were able to define the counter's\ndefault (starting) value of 0, its corresponding setter function, and variable to\naccess the state in one line!"),Object(r.b)("p",null,"To generalize the syntax of the ",Object(r.b)("inlineCode",{parentName:"p"},"useState")," Hook, the form is as shown below:"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"const [varname, setterFunc] = useState(initValue);"),"\n",Object(r.b)("em",{parentName:"p"},"Note: states can be of any type.")),Object(r.b)("p",null,"We can also share Hooks across multiple components, allowing for even better\nreusability of code."),Object(r.b)("h3",{id:"useeffect"},Object(r.b)("inlineCode",{parentName:"h3"},"useEffect")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"useEffect")," component allows use to trigger side effects in functional components.\nIt takes in a function (we can pass in ES6 arrow functions), which is called ",Object(r.b)("em",{parentName:"p"},"every\ntime")," after the component renders, which is to say every time one of the component's\nstates (in its ",Object(r.b)("inlineCode",{parentName:"p"},"useState")," Hooks) change."),Object(r.b)("p",null,"If we take the previous Counter example and want to change the title of the webpage\nevery time the Counter rerenders,"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"useEffect(() => {\n  document.title = `You clicked ${count} times`;\n});\n")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"useEffect")," also has a optional second parameter, which is an array of dependencies.\nIf any of these dependencies change (like state variables), the effect is run. For example,\nif we want to update the title of our webpage when the Counter from the previous example\nchanges its ",Object(r.b)("inlineCode",{parentName:"p"},"count")," state, we would use the following ",Object(r.b)("inlineCode",{parentName:"p"},"useEffect")," Hook in the functional\ncomponent:"),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"// This code will only invoke the function when the count changes - more optimized\nuseEffect(() => {\n  document.title = `You clicked ${count} times`;\n}, [count]);\n")),Object(r.b)("h3",{id:"important-note"},"Important Note"),Object(r.b)("p",null,"While searching online for help / debugging, you will often\nrun into StackOverflow answers or other resources for React dating back from\na few years ago. Unfortunately, when it comes to developing with modern web\ntechnologies like React, some solutions often include deprecated features of React\nin the present day or need to be translated to the new paradigm (like Hooks).\nIt is up to the developer to find the best solution that compromises between\nthe bleeding-edge and practicality."),Object(r.b)("h2",{id:"thinking-react-ively"},"Thinking React-ively"),Object(r.b)("p",null,"You've now had three weeks devoted to React, likely the most predominant frontend\nweb framework in use for modern web applications. We've learned how to think about\nthings from a component and state-based perspective, which has greatly helped us\nto modularize and reuse code effectively."),Object(r.b)("p",null,"Here is a general thought-flow, from the perspective of a front-end engineer\ndeveloping a React webapp from a design mock + API from the backend engineers:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Break the UI into a component hierarchy. Each component should have a singular\njob, and should be reusable."),Object(r.b)("li",{parentName:"ol"},"Begin by building a static version of that component (not data-driven yet and\nnot interactive), based on the JSON API provided by the backend."),Object(r.b)("li",{parentName:"ol"},"Identify minimal representation of the UI state."),Object(r.b)("li",{parentName:"ol"},'Determine where the state should "live": should it be lifted up into a parent component\nas a common owner between multiple child components?'),Object(r.b)("li",{parentName:"ol"},"Add inverse data flow - handle changes in the child component through a\nparent component"),Object(r.b)("li",{parentName:"ol"},"Connect component to the backend (more on this in Lecture 8!)")),Object(r.b)("h2",{id:"filterable-product-table-example"},"Filterable Product Table Example"),Object(r.b)("p",null,"This section contains the code from the live demo presented during class. Watch the\nlecture video linked at the top for an explanation of the code, intended to\nteach how to think in the React development paradigm."),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="App.js (root component)"',title:'"App.js',"(root":!0,'component)"':!0}),"import React from 'react';\nimport FilterableProductTable from './FilterableProductTable';\n\nconst PRODUCTS = [\n  {\n    category: 'Sporting Goods',\n    price: '$49.99',\n    stocked: true,\n    name: 'Football',\n  },\n  {\n    category: 'Sporting Goods',\n    price: '$9.99',\n    stocked: true,\n    name: 'Baseball',\n  },\n  {\n    category: 'Sporting Goods',\n    price: '$29.99',\n    stocked: false,\n    name: 'Basketball',\n  },\n  {\n    category: 'Electronics',\n    price: '$99.99',\n    stocked: true,\n    name: 'iPod Touch',\n  },\n  {\n    category: 'Electronics',\n    price: '$399.99',\n    stocked: false,\n    name: 'iPhone 5',\n  },\n  { category: 'Electronics', price: '$199.99', stocked: true, name: 'Nexus 7' },\n];\n\nconst App = () => (\n  <div className=\"App\">\n    <FilterableProductTable products={PRODUCTS} />\n  </div>\n);\n\nexport default App;\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="FilterableProductTable.jsx"',title:'"FilterableProductTable.jsx"'}),"import React, { useState } from 'react';\nimport ProductTable from './Starter';\n\nconst SearchBar = ({\n  filterText,\n  inStockOnly,\n  handleFilterTextChange,\n  handleCheckBoxChange,\n}) => (\n  <form>\n    <input\n      type=\"text\"\n      placeholder=\"Search...\"\n      value={filterText}\n      onChange={handleFilterTextChange}\n    />\n    <p>\n      <input\n        type=\"checkbox\"\n        checked={inStockOnly}\n        onChange={handleCheckBoxChange}\n      />{' '}\n      Only show products in stock\n    </p>\n  </form>\n);\n\nconst FilterableProductTable = ({ products }) => {\n  const [filterText, setFilterText] = useState('');\n  const [inStockOnly, setInStockOnly] = useState(false);\n\n  const handleFilterTextChange = (e) => setFilterText(e.target.value);\n  const handleCheckBoxChange = (e) => setInStockOnly(e.target.checked);\n\n  return (\n    <div>\n      <SearchBar\n        filterText={filterText} // states passed as prop to SearchBar\n        inStockOnly={inStockOnly} // states passed as prop to SearchBar\n        handleFilterTextChange={handleFilterTextChange} // only step 5\n        handleCheckBoxChange={handleCheckBoxChange} // only step 5\n      />\n      <ProductTable\n        products={products} // JSON API model\n        filterText={filterText} // states passed as prop to SearchBar\n        inStockOnly={inStockOnly} // states passed as prop to SearchBar\n      />\n    </div>\n  );\n};\n\nexport default FilterableProductTable;\n")),Object(r.b)("pre",null,Object(r.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx",metastring:'title="Starter.jsx"',title:'"Starter.jsx"'}),"// Contains all the base components (we can put multiple components in a jsx file\n// for convenience, though this is not usually good practice).\nimport React from 'react';\n\n// These components will be starter code because they are most self-explanatory\n// and purely presentational. We will go over this code briefly in lecture.\n// Students encouraged to read this on their own time.\n\nconst ProductRow = ({ product }) => {\n  const name = product.stocked ? (\n    product.name\n  ) : (\n    <span style={{ color: 'red' }}>{product.name}</span>\n  );\n  return (\n    <tr>\n      <td>{name}</td>\n      <td>{product.price}</td>\n    </tr>\n  );\n};\n\nconst ProductCategoryRow = ({ category }) => (\n  <tr>\n    <th colSpan=\"2\">{category}</th>\n  </tr>\n);\n\nconst ProductTable = ({ products, filterText, inStockOnly }) => {\n  const rows = [];\n  let lastCategory = null;\n\n  products.forEach((product) => {\n    if (product.name.indexOf(filterText) === -1) {\n      return;\n    }\n    if (inStockOnly && !product.stocked) {\n      return;\n    }\n    if (product.category !== lastCategory) {\n      rows.push(\n        <ProductCategoryRow\n          category={product.category}\n          key={product.category}\n        />\n      );\n    }\n    rows.push(<ProductRow product={product} key={product.name} />);\n    lastCategory = product.category;\n  });\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Price</th>\n        </tr>\n      </thead>\n      <tbody>{rows}</tbody>\n    </table>\n  );\n};\n\n// Here we can export all these components at once!\n// Notice also the name of the file does not match any single component name.\n// export { ProductRow, ProductCategoryRow, ProductTable };\nexport default ProductTable; // but we only need ProductTable here (in FilterableProductTable.jsx)\n")))}p.isMDXComponent=!0},162:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var o=n(0),a=n.n(o);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),p=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},u=function(e){var t=p(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=Object(o.forwardRef)((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),b=o,h=u["".concat(c,".").concat(b)]||u[b]||d[b]||r;return n?a.a.createElement(h,i({ref:t},s,{components:n})):a.a.createElement(h,i({ref:t},s))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,c=new Array(r);c[0]=b;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var s=2;s<r;s++)c[s]=n[s];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);